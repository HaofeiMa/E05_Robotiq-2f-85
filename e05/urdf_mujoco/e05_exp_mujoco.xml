<mujoco model="e05">
    <compiler angle="radian" meshdir="../meshes_mujoco/" />
    <size njmax="500" nconmax="100" />

    <!-- 加载 E05 机械臂模型与基本配置 -->
    <include file="e05-assets.xml"/>
    
    <!-- 加载 Robotiq-2f-85 夹爪与基本配置 -->
    <include file="robotiq-2f-85-assets.xml"/>

    <!-- 加载实验环境材料 -->
    <asset>
        <material name="table_mat" specular="0" shininess="0.5" reflectance="0" rgba="0.7 0.7 0.7 1"></material>
        <material name="block_mat" specular="0" shininess="0.5" reflectance="0" rgba="0.2 0.2 0.2 1"></material>
        <material name="block0_mat" specular="0" shininess="0.5" reflectance="0" rgba="1 0 0 1"></material>
        <material name="block1_mat" specular="0" shininess="0.5" reflectance="0" rgba="0 0 1 1"></material>
        <material name="block2_mat" specular="0" shininess="0.5" reflectance="0" rgba="0.2 0.8 0.8 1"></material>
        <material name="block3_mat" specular="0" shininess="0.5" reflectance="0" rgba="0.8 0.2 0.8 1"></material>
        <material name="block4_mat" specular="0" shininess="0.5" reflectance="0" rgba="0.2 0.2 0.8 1"></material>
        <material name="block5_mat" specular="0" shininess="0.5" reflectance="0" rgba="0.8 0.2 0.2 1"></material>
        <material name="floor_mat" specular="0" shininess="0.5" reflectance="0" rgba="0.2 0.2 0.2 1"></material>
    </asset>

    <!-- 机器人本体 -->
    <worldbody>
        <!-- 仿真环境设置定义 -->
        <light diffuse="0.6 0.6 0.6" pos="1.2 0.75 3"/>
        <light diffuse="0.6 0.6 0.6" pos="1.2 0.45 3" dir="0 0.2 -0.8" directional="true"/>
        <!-- <light cutoff="100" diffuse="0.5 0.5 0.5" dir="-0 0 -1.3" directional="true" exponent="1" pos="0 0 1.3" specular=".1 .1 .1"/> -->
        <geom name="floor" size="0 0 0.05" type="plane" material="groundplane"/>
        <camera name="camera_env" mode="trackcom" euler="0.85 0.5 0.45" pos="2.1 -0.5 1.95" fovy="60" />


        <!-- E05 机械臂与 Robotiq 2f-85 夹爪 运动链 -->
        <include file="e05-robotiq-chain.xml"/>

        <!-- 添加实验台（桌子） -->
        <body pos="1.2 0.75 0.2" name="table0">
			<geom size="0.60 0.55 0.2" type="box" mass="2000" material="table_mat"></geom>
			<!-- <geom size="0.25 0.35 0.2" type="box" mass="2000" material="table_mat"></geom> -->
		</body>

        <!-- 添加被操作物体（小方块） -->
        <body name="object0" pos="1 0.45 0.425">
			<joint name="object0:joint" type="free" damping="0.01"></joint>
			<geom size="0.025 0.025 0.025" type="box" condim="3" name="object0" material="block0_mat" mass="2"></geom>
			<site name="object0" pos="0 0 0" size="0.02 0.02 0.02" rgba="1 0 0 1" type="sphere"></site>
			<site name="block_sensor" type="box" pos="0 0 0" size="0.02 0.02 0.02" euler="0 0 0" rgba="0.2 1 0.5 0.3"/>
		</body>

        <!-- 添加目标位置（小方平面） -->
		<body name="floor0" pos="1.3 0.95 0.425">
			<!-- <site name="target0" pos="0 0 0.5" size="0.02 0.02 0.02" rgba="0 1 0 0.3" type="sphere"></site> -->
			<site name="target0" pos="0 0 0.0001" size="0.038 0.038 0.001" rgba="0 1 0 0.3" type="box"></site>
		</body>

        <!-- 设置动作捕捉，用于机械臂的位置驱动控制 -->
        <body mocap="true" name="robot_mocap" pos="0 0 0">
            <geom conaffinity="0" contype="0" pos="0 0 0" rgba="0 0.5 0 0" size="0.005 0.005 0.005" type="box"></geom>
            <geom conaffinity="0" contype="0" pos="0 0 0" rgba="0 0.5 0 0" size="1 0.005 0.005" type="box"></geom>
            <geom conaffinity="0" contype="0" pos="0 0 0" rgba="0 0.5 0 0" size="0.005 1 0.001" type="box"></geom>
            <geom conaffinity="0" contype="0" pos="0 0 0" rgba="0 0.5 0 0" size="0.005 0.005 1" type="box"></geom>
        </body>

    </worldbody>

</mujoco>

